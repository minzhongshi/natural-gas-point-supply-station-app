"use strict";const e=require("../../common/vendor.js"),a=require("../../api/user/device.js"),t=require("../../uni_modules/u-ajax/js_sdk/index.js");require("../../uni_modules/u-ajax/js_sdk/lib/core/Ajax.js"),require("../../uni_modules/u-ajax/js_sdk/lib/core/InterceptorManager.js"),require("../../uni_modules/u-ajax/js_sdk/lib/helpers/buildURL.js"),require("../../uni_modules/u-ajax/js_sdk/lib/utils.js"),require("../../uni_modules/u-ajax/js_sdk/lib/helpers/mergeConfig.js"),require("../../uni_modules/u-ajax/js_sdk/lib/core/dispatchRequest.js"),require("../../uni_modules/u-ajax/js_sdk/lib/helpers/isCallback.js"),require("../../uni_modules/u-ajax/js_sdk/lib/defaults.js"),require("../../uni_modules/u-ajax/js_sdk/lib/adapters/http.js"),require("../../uni_modules/u-ajax/js_sdk/lib/core/handleCancel.js"),require("../../uni_modules/u-ajax/js_sdk/lib/adapters/Fetcher.js");const s={props:{standId:{type:String,default:""}},data:()=>({data:0,delayload:!1,name:{0:"储罐压强",1:"储罐液位",2:"燃气浓度",3:"气化区燃气浓度"},price:{0:0,1:0,2:0,3:0},price2:{0:"0Kap",1:"0mmH2o",2:"0%LEL",3:"0%LEL"},endNumber:{0:1e3,1:4e3,2:25,3:25},startNumber:{0:400,1:0,2:0,3:0},chartData:{},opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:void 0,title:{name:"430.80Kpa",fontSize:25,color:"#2fc25b",offsetY:50},subtitle:{name:"储罐压强",fontSize:15,color:"#666666",offsetY:-50},extra:{gauge:{type:"default",width:30,labelColor:"#666666",startAngle:.75,endAngle:.25,startNumber:400,endNumber:1e3,labelFormat:"",splitLine:{fixRadius:0,splitNumber:10,width:30,color:"#FFFFFF",childNumber:5,childWidth:12},pointer:{width:24,color:"auto"}}}}}),mounted(){},methods:{async open(a,t){e.index.showLoading(),this.getDevice(a),await setTimeout((()=>{this.delayload=!0,e.index.hideLoading();let a={categories:[{value:.2,color:"#1890ff"},{value:.8,color:"#2fc25b"},{value:1,color:"#f04864"}],series:[{name:"",data:this.data}]};this.chartData=JSON.parse(JSON.stringify(a))}),500)},getDevice(s){t.ajax.post({url:a.API.DEVIE_DEVICE,data:{standId:this.standId},header:{"Content-type":"application/x-www-form-urlencoded"}}).then((a=>{console.log(a),200===a.data.code?(this.price[0]=parseFloat(a.data.data.storageTank[0].price),this.price[1]=parseFloat(a.data.data.storageTank[1].price),this.price[2]=parseFloat(a.data.data.storageTank[2].price),this.price[3]=parseFloat(a.data.data.storageTank[3].price),this.price2[0]=a.data.data.storageTank[0].price+"Kap",this.price2[1]=parseFloat(a.data.data.storageTank[1].price)/40+"%",this.price2[2]=a.data.data.storageTank[2].price+"%LEL",this.price2[3]=a.data.data.storageTank[3].price+"%LEL",this.data=(this.price[s]-this.startNumber[s])/(this.endNumber[s]-this.startNumber[s]),this.opts.subtitle.name=this.name[s],this.opts.extra.gauge.endNumber=this.endNumber[s],this.opts.extra.gauge.startNumber=this.startNumber[s],this.opts.title.name=this.price2[s]):e.index.showToast({icon:"error",title:a.data.msg,duration:2e3})}))}}};if(!Array){e.resolveComponent("qiun-data-charts")()}Math;const r=e._export_sfc(s,[["render",function(a,t,s,r,i,o){return{a:e.p({type:"gauge",opts:i.opts,chartData:i.chartData,resshow:i.delayload})}}],["__scopeId","data-v-84c789cf"]]);wx.createComponent(r);
