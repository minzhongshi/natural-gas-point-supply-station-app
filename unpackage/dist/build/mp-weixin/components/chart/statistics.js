"use strict";const e=require("../../common/vendor.js"),a=require("../../api/user/device.js"),s=require("../../uni_modules/u-ajax/js_sdk/index.js");require("../../uni_modules/u-ajax/js_sdk/lib/core/Ajax.js"),require("../../uni_modules/u-ajax/js_sdk/lib/core/InterceptorManager.js"),require("../../uni_modules/u-ajax/js_sdk/lib/helpers/buildURL.js"),require("../../uni_modules/u-ajax/js_sdk/lib/utils.js"),require("../../uni_modules/u-ajax/js_sdk/lib/helpers/mergeConfig.js"),require("../../uni_modules/u-ajax/js_sdk/lib/core/dispatchRequest.js"),require("../../uni_modules/u-ajax/js_sdk/lib/helpers/isCallback.js"),require("../../uni_modules/u-ajax/js_sdk/lib/defaults.js"),require("../../uni_modules/u-ajax/js_sdk/lib/adapters/http.js"),require("../../uni_modules/u-ajax/js_sdk/lib/core/handleCancel.js"),require("../../uni_modules/u-ajax/js_sdk/lib/adapters/Fetcher.js");const i={props:{standId:{type:String,default:""}},data:()=>({delayload:!1,categories:[],minPrice:[],maxPrice:[],device:{0:"pressure",1:"level",2:"concentration",3:"gconcentration"},name:{0:"Kpa",1:"%",2:"%LEL",3:"%LEL"},chartData:{},opts:{color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],padding:[15,10,0,15],enableScroll:!1,legend:{},xAxis:{disableGrid:!0},yAxis:{gridType:"dash",dashLength:2},extra:{line:{type:"curve",width:2,activeType:"hollow"}}}}),onReady(){},methods:{async open(a,s){e.index.showLoading(),this.getDays(a),await setTimeout((()=>{this.delayload=!0,e.index.hideLoading();let s={categories:this.categories,series:[{name:`最低(${this.name[a]})`,lineType:"dash",data:this.minPrice},{name:`最高(${this.name[a]})`,lineType:"dash",data:this.maxPrice}]};this.chartData=JSON.parse(JSON.stringify(s))}),1e3)},getDays(i){s.ajax.post({url:a.API.DEVIE_DAYS,data:{siteId:this.standId,deviceName:this.device[i]},header:{"Content-type":"application/x-www-form-urlencoded"}}).then((a=>{if(console.log(a),200===a.data.code){let e=a.data.data,s=[],i=[],t=[];e.forEach((e=>{s.push(e.time.slice(5)),i.push(parseFloat(e.minimum)),t.push(parseFloat(e.highest))})),this.categories=s,this.minPrice=i,this.maxPrice=t}else e.index.showToast({icon:"error",title:a.data.msg,duration:2e3})}))}}};if(!Array){e.resolveComponent("qiun-data-charts")()}Math;const t=e._export_sfc(i,[["render",function(a,s,i,t,r,d){return{a:e.p({type:"line",opts:r.opts,chartData:r.chartData,resshow:r.delayload})}}],["__scopeId","data-v-84876879"]]);wx.createComponent(t);
